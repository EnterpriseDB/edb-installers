#!/bin/sh

# PostgreSQL Installer build system configuration.
# Copy this file to settings.sh, and edit as required for the build setup

# Check if the variable passed is already defined in the environment. If no, then set the value else skip it.
_set_config()
{
	VAR=$1	
	if [ "${!VAR}" = "" ]
	then
		#echo "${VAR} value not set in the environment"
		eval $1=$2
	fi
}

# Platforms. Set to 1 to enable a specific platform

_set_config PG_ARCH_OSX 0
_set_config PG_ARCH_LINUX 0
_set_config PG_ARCH_LINUX_X64 0
_set_config PG_ARCH_WINDOWS 0
_set_config PG_ARCH_WINDOWS_X64 0
_set_config PG_ARCH_LINUX_PPC64 0
_set_config PG_ARCH_SOLARIS_X64 0
_set_config PG_ARCH_SOLARIS_SPARC 0
_set_config PG_ARCH_HPUX 0

# Packages. Set to 1 to enable a specific packages. Note that many packages will be interdependent
#           so you must ensure that all the required dependencies are enabled.

_set_config PG_PACKAGE_SERVER 1
_set_config PG_PACKAGE_APACHEPHP 0
_set_config PG_PACKAGE_PHPPGADMIN 0
_set_config PG_PACKAGE_PGJDBC 0
_set_config PG_PACKAGE_PSQLODBC 0
_set_config PG_PACKAGE_POSTGIS 0
_set_config PG_PACKAGE_SLONY 0
_set_config PG_PACKAGE_NPGSQL 0
_set_config PG_PACKAGE_PGAGENT 0
_set_config PG_PACKAGE_PGMEMCACHE 0
_set_config PG_PACKAGE_PGBOUNCER 0
_set_config PG_PACKAGE_MIGRATIONTOOLKIT 0
_set_config PG_PACKAGE_REPLICATIONSERVER 0
_set_config PG_PACKAGE_PLPGSQLO 0
_set_config PG_PACKAGE_SQLPROTECT 0
_set_config PG_PACKAGE_UPDATE_MONITOR 0

# Path for the build machine (/opt/... must be at the end!)
PATH=/bin:/sbin:/usr/bin:/usr/sbin:/opt/local/bin

# VM config. For each VM we need to know the SSH connection details and the path to the
#            shared firectory on the host machine containing this file.
#            On Windows we don't have a shared directory, so specify a build directory
#            We can also specify additional directorys to include in the path.

PG_SSH_LINUX=buildfarm@bf4-linux.ox.uk.enterprisedb.com
PG_PATH_LINUX=/mnt/hgfs/pginstaller.auto
PG_PGHOME_LINUX=$PG_PATH_LINUX/server/staging/linux
PG_EXEC_PATH_LINUX=/etc/alternatives/java_sdk_1.7.0/bin
PG_JAVA_HOME_LINUX=/etc/alternatives/java_sdk_1.7.0
PG_ANT_HOME_LINUX=/opt/apache-ant-1.8.4
PG_QMAKE_LINUX=/opt/qtsdk/bin/qmake
PG_QT_LINUX=/opt/qtsdk
PG_PERL_LINUX=/opt/EnterpriseDB/LanguagePack/9.4/Perl-5.16
PG_PYTHON_LINUX=/opt/EnterpriseDB/LanguagePack/9.4/Python-3.3
PG_TCL_LINUX=/opt/EnterpriseDB/LanguagePack/9.4/Tcl-8.5
PG_XULRUNNER_SDK_LINUX=/usr/lib/xulrunner-sdk-1.9.2
PG_XULRUNNER_RUNTIMES_LINUX=/usr/lib/xulrunner-1.9.2

PG_SSH_LINUX_X64=buildfarm@bf4-linux-x64.ox.uk.enterprisedb.com
PG_PATH_LINUX_X64=/mnt/hgfs/pginstaller.auto
PG_PGHOME_LINUX_X64=$PG_PATH_LINUX_X64/server/staging/linux-x64
PG_EXEC_PATH_LINUX_X64=/etc/alternatives/java_sdk_1.7.0/bin
PG_JAVA_HOME_LINUX_X64=/etc/alternatives/java_sdk_1.7.0
PG_ANT_HOME_LINUX_X64=/opt/apache-ant-1.8.4
PG_QMAKE_LINUX_X64=/opt/qtsdk/bin/qmake
PG_QT_LINUX_X64=/opt/qtsdk
PG_PERL_LINUX_X64=/opt/EnterpriseDB/LanguagePack/9.4/Perl-5.16
PG_PYTHON_LINUX_X64=/opt/EnterpriseDB/LanguagePack/9.4/Python-3.3
PG_TCL_LINUX_X64=/opt/EnterpriseDB/LanguagePack/9.4/Tcl-8.5
PG_XULRUNNER_SDK_LINUX_X64=/usr/lib64/xulrunner-sdk-1.9.2
PG_XULRUNNER_RUNTIMES_LINUX_X64=/usr/lib64/xulrunner-1.9.2

PG_SSH_WINDOWS=buildfarm@bf4-windows.ox.uk.enterprisedb.com
PG_PATH_WINDOWS=D:\\\\pginstaller.auto
PG_VSINSTALLDIR_WINDOWS="C:\\\\Program Files\\\\Microsoft Visual Studio 12.0"
PG_FRAMEWORKDIR_WINDOWS="C:\\\\WINDOWS\\\\Microsoft.NET\\\\Framework"
PG_FRAMEWORKVERSION_WINDOWS=v4.0.30319
PG_FRAMEWORKSDKDIR_WINDOWS="C:\\\\Program Files\\\\Microsoft Visual Studio 12.0\\\\SDK\\\\v4.0.30319"
PG_DEVENVDIR_WINDOWS="C:\\\\Program Files\\\\Microsoft Visual Studio 12.0\\\\Common7\\\\IDE"
PG_PGBUILD_WINDOWS="C:\\\\pgBuild32"
PG_WXWIN_WINDOWS="$PG_PGBUILD_WINDOWS\\\\wxWidgets-2.8.12"
PG_CMAKE_WINDOWS="C:\\\\cmake-x86"
PG_ANT_WINDOWS="$PG_PGBUILD_WINDOWS"
PG_MINGW_WINDOWS=C:\\\\MinGW
PG_MSYS_WINDOWS=C:\\\\MinGW\\\\msys\\\\1.0
PG_JAVA_HOME_WINDOWS="C:\\\\Program Files\\\\Java\\\\jdk1.7.0_51"
PG_QTPATH_WINDOWS=C:\\\\QtSDK
PG_SDK_WINDOWS="C:\\\\Program Files\\\\Microsoft SDKs\\\\Windows\\\\v7.1A"
PG_SIGNTOOL_WINDOWS="$PG_SDK_WINDOWS\\\\Bin\\\\signtool.exe"
PG_PERL_WINDOWS=C:\\\\EnterpriseDB\\\\LanguagePack\\\\9.4\\\\i386\\\\Perl-5.16
PG_PYTHON_WINDOWS=C:\\\\EnterpriseDB\\\\LanguagePack\\\\9.4\\\\i386\\\\Python-3.3
PG_TCL_WINDOWS=C:\\\\EnterpriseDB\\\\LanguagePack\\\\9.4\\\\i386\\\\Tcl-8.5
PLATFORM_TOOLSET=/p:PlatformToolset=v120_xp

PG_SSH_WINDOWS_X64=buildfarm@bf4-windows-x64.ox.uk.enterprisedb.com
PG_PATH_WINDOWS_X64=D:\\\\pginstaller.auto
PG_VSINSTALLDIR_WINDOWS_X64="C:\\\\Program Files (x86)\\\\Microsoft Visual Studio 12.0"
PG_FRAMEWORKDIR_WINDOWS_X64="C:\\\\WINDOWS\\\\Microsoft.NET\\\\Framework64"
PG_FRAMEWORKVERSION_WINDOWS_X64=v4.0.30319
PG_FRAMEWORKSDKDIR_WINDOWS_X64="C:\\\\Program Files (x86)\\\\Microsoft Visual Studio 12.0\\\\SDK\\\\v4.0.30319"
PG_DEVENVDIR_WINDOWS_X64="C:\\\\Program Files (x86)\\\\Microsoft Visual Studio 12.0\\\\Common7\\\\IDE"
PG_PGBUILD_WINDOWS_X64="C:\\\\pgBuild64"
PG_WXWIN_WINDOWS_X64="$PG_PGBUILD_WINDOWS_X64\\\\wxWidgets-2.8.12"
PG_JAVA_HOME_WINDOWS_X64="C:\\\\Program Files\\\\Java\\\\jdk1.7.0_51"
PG_CMAKE_WINDOWS_X64="C:\\\\cmake-x86"
PG_PERL_WINDOWS_X64=C:\\\\EnterpriseDB\\\\LanguagePack\\\\9.4\\\\x64\\\\Perl-5.16
PG_PYTHON_WINDOWS_X64=C:\\\\EnterpriseDB\\\\LanguagePack\\\\9.4\\\\x64\\\\Python-3.3
PG_TCL_WINDOWS_X64=C:\\\\EnterpriseDB\\\\LanguagePack\\\\9.4\\\\x64\\\\Tcl-8.5
PG_SDK_WINDOWS_X64="C:\\\\Program Files (x86)\\\\Microsoft SDKs\\\\Windows\\\\v7.1A"
PG_SIGNTOOL_WINDOWS="$PG_SDK_WINDOWS\\\\Bin\\\\signtool.exe"

PG_SSH_SOLARIS_X64=buildfarm@bf3-solaris-x64.pn.in.enterprisedb.com
PG_PATH_SOLARIS_X64=/mnt/buildfarm/pginstaller_2.auto-repo
PG_PGHOME_SOLARIS_X64=$PG_PATH_SOLARIS_X64/server/staging/solaris-x64
PG_EXEC_PATH_SOLARIS_X64=/opt/jdk1.6.0_32
PG_JAVA_HOME_SOLARIS_X64=/opt/jdk1.6.0_32
PG_SOLARIS_STUDIO_SOLARIS_X64=/opt/solarisstudio12.3/prod
PG_ANT_HOME_SOLARIS_X64=/opt/apache-ant-1.8.4
PG_QMAKE_SOLARIS_X64=/usr/local/bin/qmake

PG_SSH_SOLARIS_SPARC=buildfarm@suzuka.ox.uk.enterprisedb.com
PG_PATH_SOLARIS_SPARC=/mnt/buildfarm/pginstaller_2.auto-bugatti
PG_PGHOME_SOLARIS_SPARC=$PG_PATH_SOLARIS_SPARC/server/staging/solaris-sparc
PG_EXEC_PATH_SOLARIS_SPARC=/opt/jdk1.6.0_33
PG_JAVA_HOME_SOLARIS_SPARC=/opt/jdk1.6.0_33
#PG_SOLARIS_STUDIO_SOLARIS_SPARC=/opt/solarisstudio12.3/prod
PG_SOLARIS_STUDIO_SOLARIS_SPARC=/opt/sunstudio12.1/prod
PG_ANT_HOME_SOLARIS_SPARC=/opt/apache-ant-1.8.4
PG_QMAKE_SOLARIS_SPARC=/usr/local.sun/bin/qmake

PG_SSH_OSX=buildfarm@bf4-osx.ox.uk.enterprisedb.com
PG_SSH_OSX_SIGN=buildfarm@bf-osx-sign.ox.uk.enterprisedb.com
PG_PATH_OSX=/mnt/hgfs/pginstaller.auto
PG_PATH_OSX_SIGNTOOL=/opt/local/bin/osxsigner
PG_PGHOME_OSX=$PG_PATH_OSX/server/staging/osx
PG_ANT_HOME_OSX=/usr
PG_DOCBOOK_OSX=/usr/local/docbook-xsl-1.77.1
PG_JAVA_HOME_OSX=/System/Library/Frameworks/JavaVM.framework/Versions/1.6.0/Home
PG_PERL_OSX=/Library/EnterpriseDB/LanguagePack/9.4/Perl-5.16
PG_PYTHON_OSX=/Library/EnterpriseDB/LanguagePack/9.4/Python-3.3
PG_TCL_OSX=/Library/EnterpriseDB/LanguagePack/9.4/Tcl-8.5
PG_QTFRAMEWORK_OSX=/Library/Frameworks
PG_QMAKE_OSX=/Developer/Tools/Qt/qmake

# CFLAGS/CPPFLAGS/CXXFLAGS settings for different platforms. The is most important for Mac
# where we may need to use non-default SDKs if we're building on a platform newer than the
# oldest supported

MACOSX_MIN_VERSION=10.7
SDK_PATH=/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX10.8.sdk
PG_ARCH_OSX_CFLAGS="-isysroot $SDK_PATH -mmacosx-version-min=$MACOSX_MIN_VERSION"
PG_ARCH_OSX_CPPFLAGS="-isysroot $SDK_PATH -mmacosx-version-min=$MACOSX_MIN_VERSION"
PG_ARCH_OSX_CXXFLAGS="-isysroot $SDK_PATH -mmacosx-version-min=$MACOSX_MIN_VERSION"
PG_ARCH_OSX_LDFLAGS="-isysroot $SDK_PATH -mmacosx-version-min=$MACOSX_MIN_VERSION"

# The InstallBuilder main binary.
PG_INSTALLBUILDER_BIN="/opt/installbuilder-9.5.2/bin/builder"
KEYCHAIN_PASSWD="XXXXXX"
