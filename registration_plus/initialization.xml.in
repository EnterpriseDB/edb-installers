<actionGroup>
  <actionList>
        <actionGroup>
          <actionList>
            <generateRandomValue length="20" variable="random_number_reg"/>
            <setInstallerVariable name="random_number_reg" value="${random_number_reg}"/>
          </actionList>
          <ruleList>
            <compareText logic="does_not_equal" text="${platform_name}" value="windows"/>
          </ruleList>
        </actionGroup>
        <actionGroup>
          <actionList>
            <generateRandomValue length="10" variable="random_number_reg"/>
            <setInstallerVariable name="random_number_reg" value="${random_number_reg}"/>
          </actionList>
          <ruleList>
            <compareText logic="equals" text="${platform_name}" value="windows"/>
          </ruleList>
        </actionGroup>

    <!-- Set Proxy values from environement variables if any -->
    <setInstallerVariable name="proxyHost" value="${env(PROXY_HOST)}" />

    <setInstallerVariable name="proxyPort" value="${env(PROXY_PORT)}" />
    <actionGroup>
      <actionList>
        <setInstallerVariable>
          <name>is_internet_connected</name>
          <persist>1</persist>
          <value>0</value>
        </setInstallerVariable>
        <showProgressDialog>
          <title>${msg(internet.con.title)}</title>
          <explanation />
          <width>350</width>
          <height>100</height>
          <actionList>
            <httpGet>
              <filename>${system_temp_directory}/connect_${random_number_reg}.html</filename>
              <url>BASE_URL/connect.jsp</url>
              <abortOnError>0</abortOnError>
              <showMessageOnError>0</showMessageOnError>
            </httpGet>
          </actionList>
        </showProgressDialog>
        <setInstallerVariable>
          <name>is_internet_connected</name>
          <persist>1</persist>
          <value>1</value>
          <ruleList>
            <fileContentTest>
              <path>${system_temp_directory}/connect_${random_number_reg}.html</path>
              <text>EnterpriseDB</text>
              <logic>contains</logic>
            </fileContentTest>
          </ruleList>
        </setInstallerVariable>
        <logMessage text="is_internet_connected:${is_internet_connected}"/>
        <deleteFile>
          <path>${system_temp_directory}/connect_${random_number_reg}.html</path>
        </deleteFile>
      </actionList>
    </actionGroup>

  </actionList>
</actionGroup>
